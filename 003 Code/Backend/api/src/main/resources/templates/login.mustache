<div class="card m-2" id="comments-new">
    <div class="card-body">
        <!-- 댓글 작성 폼-->
        <form>
            <!-- 아이디 입력 -->
            <div class="mb-3">
                <label class="form-label">ID</label>
                <input type="text" class="form-control form-control-sm" id="new-id">
            </div>
            <!-- 비밀번호 입력 -->
            <div class="mb-3">
                <label class="form-label">PASSWORD</label>
                <textarea type="text" class="form-control form-control-sm" rows="3" id="new-password"></textarea>
            </div>
            <!-- 전송 버튼 -->
            <button type="button" class="btn btn-outline-primary btn-sm" id="login-btn">login</button>
        </form>
    </div>
</div>

<script>
    {
        // 댓글 생성 버튼 변수화
        const commentCreateBtn = document.querySelector("#login-btn");

        // 버튼 클릭 이벤트
        commentCreateBtn.addEventListener("click", function() {
            // 새 댓글 객체 생성
            const account = {
                userId: document.querySelector("#new-id").value,
                password: document.querySelector("#new-password").value,
            };

            // 댓글 객체 출력
            console.log(account);

            // fetch() - API 요청을 JS로 전송해줌
            const url = "/api/cuser/login";
            fetch(url, {
                method: "post",
                body: JSON.stringify(account),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(response => {
                // http 응답코드에 따른 메세지 출력
                const msg = (response.ok) ? "Login Success" : "Login Failed";
                alert(msg);
            });
        });
    }
</script>